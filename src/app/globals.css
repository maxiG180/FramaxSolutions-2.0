@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --background: #ffffff;
    --foreground: #171717;

    --primary: #2563eb;
    /* Blue 600 */
    --primary-foreground: #ffffff;

    --secondary: #ec4899;
    /* Pink 500 */
    --secondary-foreground: #ffffff;

    --accent: #8b5cf6;
    /* Violet 500 */
    --accent-foreground: #ffffff;
}

@media (prefers-color-scheme: dark) {
    :root {
        --background: #0a0a0a;
        --foreground: #ededed;

        --primary: #3b82f6;
        /* Blue 500 */
        --secondary: #f472b6;
        /* Pink 400 */
        --accent: #a78bfa;
        /* Violet 400 */
    }
}

body {
    background: var(--background);
    color: var(--foreground);
    font-family: var(--font-sans), Arial, Helvetica, sans-serif;
}

@media (prefers-reduced-motion: no-preference) {
    html {
        scroll-behavior: smooth;
    }
}

/* Performance-optimized CSS animations (replacing JS-driven framer-motion) */
@keyframes gentle-bounce {

    0%,
    100% {
        transform: translateY(0);
    }

    50% {
        transform: translateY(-6px);
    }
}

@keyframes speed-bar-pulse {

    0%,
    100% {
        transform: scaleY(1);
    }

    50% {
        transform: scaleY(0.4);
    }
}

@keyframes cursor-blink {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0;
    }
}

/**
 * word-cycle: drives the pure-CSS Typewriter in Hero.
 * Each word occupies 1 slot of the total cycle duration.
 * The animation runs for the full cycle but is only visible for 1 slot:
 *   0%-N%   fade in, hold
 *   N%-M%   fade out
 *   M%-100% hidden (waiting for next loop)
 * Where N = (1/count)*100 expressed as a fraction of the keyframe.
 * Since we parameterise via animation-duration + delay per word,
 * we just define the fade in/hold/out relative to 1 slot = 100% of totalDuration:
 */
@keyframes word-cycle {
    0% {
        opacity: 0;
        transform: translateY(6px);
    }

    8% {
        opacity: 1;
        transform: translateY(0);
    }

    /* hold visible for roughly 1 slot */
    33% {
        opacity: 1;
        transform: translateY(0);
    }

    41% {
        opacity: 0;
        transform: translateY(-6px);
    }

    100% {
        opacity: 0;
        transform: translateY(-6px);
    }
}

@keyframes cta-pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

.animate-gentle-bounce {
    animation: gentle-bounce 2s ease-in-out infinite;
    will-change: transform;
}

.animate-speed-bar {
    animation: speed-bar-pulse 1.6s ease-in-out infinite alternate;
    will-change: transform;
    transform-origin: bottom;
}

.animate-cursor-blink {
    animation: cursor-blink 1s step-end infinite;
}

.animate-cta-pulse {
    animation: cta-pulse 2s ease-in-out infinite;
    will-change: transform;
}

@keyframes click-cursor {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    40% {
        transform: translate(-10px, -10px) scale(0.9);
    }

    60% {
        transform: translate(-10px, -10px) scale(0.9);
    }
}

.animate-click-cursor {
    animation: click-cursor 3s ease-in-out infinite;
    will-change: transform;
}

/* Custom Scrollbar Styles */
.scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
}

.scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
    border-radius: 10px;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 10px;
    transition: background 0.2s ease;
}

.scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: rgba(255, 255, 255, 0.3);
}

/* Firefox */
.scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.2) transparent;
}

/* ============================================================
   RENDERING PERFORMANCE — content-visibility: auto
   Tells the browser to skip layout/paint for off-screen sections
   until they're about to enter the viewport. Large LCP/TBT win.
   ============================================================ */
section {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
    /* estimated height prevents scroll jump */
}

/* Hero is always visible — opt it back out */
section:first-of-type {
    content-visibility: visible;
    contain-intrinsic-size: none;
}

/* Marquee/TechStack — force GPU compositing for smooth marquee */
.animate-marquee,
.animate-marquee-reverse {
    will-change: transform;
    transform: translateZ(0);
}

/* Reduce motion: disable heavy animations for accessibility + perf */
@media (prefers-reduced-motion: reduce) {

    .animate-gentle-bounce,
    .animate-speed-bar,
    .animate-cta-pulse,
    .animate-click-cursor,
    .animate-marquee,
    .animate-marquee-reverse {
        animation: none !important;
        will-change: auto;
    }

    /* Stop word cycling for motion-sensitive users — show first word statically */
    [style*="word-cycle"] {
        animation: none !important;
        opacity: 1 !important;
        transform: none !important;
    }
}